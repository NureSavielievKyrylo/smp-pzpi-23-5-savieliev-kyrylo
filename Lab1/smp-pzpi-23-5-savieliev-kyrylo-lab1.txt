ÐœÐ†ÐÐ†Ð¡Ð¢Ð•Ð Ð¡Ð¢Ð’Ðž ÐžÐ¡Ð’Ð†Ð¢Ð˜ Ð† ÐÐÐ£ÐšÐ˜ Ð£ÐšÐ ÐÐ‡ÐÐ˜
Ð¥ÐÐ ÐšÐ†Ð’Ð¡Ð¬ÐšÐ˜Ð™ ÐÐÐ¦Ð†ÐžÐÐÐ›Ð¬ÐÐ˜Ð™ Ð£ÐÐ†Ð’Ð•Ð Ð¡Ð˜Ð¢Ð•Ð¢ Ð ÐÐ”Ð†ÐžÐ•Ð›Ð•ÐšÐ¢Ð ÐžÐÐ†ÐšÐ˜

ÐšÐ°Ñ„ÐµÐ´Ñ€Ð° ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð½Ð¾Ñ— Ñ–Ð½Ð¶ÐµÐ½ÐµÑ€Ñ–Ñ—

Ð—Ð²Ñ–Ñ‚
Ð· Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ñ— Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ â„–1
Ð· Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ñ–Ð½Ð¸: Â«Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ð¾Ð²Ñ– Ð¼Ð¾Ð²Ð¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼ÑƒÐ²Ð°Ð½Ð½ÑÂ»
Ð· Ñ‚ÐµÐ¼Ð¸: Â«Ð Ð¾Ð·Ñ€Ð¾Ð±ÐºÐ° Bash ÑÐºÑ€Ð¸Ð¿Ñ‚Ñƒ Ð´Ð»Ñ Ñ€Ð¾Ð·ÐºÐ»Ð°Ð´ÑƒÂ»

Ð’Ð¸ÐºÐ¾Ð½Ð°Ð²:

ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ð²:

ÑÑ‚. Ð³Ñ€. ÐŸÐ—ÐŸÐ†-23-5

cÑ‚. Ð²Ð¸ÐºÐ»Ð°Ñ‡ ÐºÐ°Ñ„ÐµÐ´Ñ€Ð¸ ÐŸÐ†

CÐ°Ð²Ñ”Ð»ÑŒÑ”Ð² Ðš. Ð¡.

Ð¡Ð¾ÐºÐ¾Ñ€Ñ‡ÑƒÐº Ð†. ÐŸ.

Ð¥Ð°Ñ€ÐºÑ–Ð² 2025

2
1 Ð†Ð¡Ð¢ÐžÐ Ð†Ð¯ Ð—ÐœÐ†Ð
â„– Ð”Ð°Ñ‚Ð°
1 23.05.2025

Ð’ÐµÑ€ÑÑ–Ñ Ð·Ð²Ñ–Ñ‚Ñƒ
0.1

ÐžÐ¿Ð¸Ñ Ð·Ð¼Ñ–Ð½ Ñ‚Ð° Ð²Ð¸Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ÑŒ
ÐŸÐ¾Ñ‡Ð°Ñ‚ÐºÐ¾Ð²Ð° Ð²ÐµÑ€ÑÑ–Ñ

3
2 Ð—ÐÐ’Ð”ÐÐÐÐ¯
Ð Ð¾Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Bash-ÑÐºÑ€Ð¸Ð¿Ñ‚, ÑÐºÐ¸Ð¹ Ð¾Ð±Ñ€Ð¾Ð±Ð»ÑÑ” ÐµÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ñ–Ð· ÑÐ°Ð¹Ñ‚Ñƒ https://cist.nure.
ua Ñ€Ð¾Ð·ÐºÐ»Ð°Ð´ Ð·Ð°Ð½ÑÑ‚ÑŒ Ð´Ð»Ñ Ð²ÑÑ–Ñ… Ð³Ñ€ÑƒÐ¿ Ð¿Ð¾Ñ‚Ð¾ÐºÑƒ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ– CSV Ñ‚Ð° Ð¿ÐµÑ€ÐµÑ‚Ð²Ð¾Ñ€ÑŽÑ” Ð¹Ð¾Ð³Ð¾ Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚
CSV Ð´Ð»Ñ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ Ð² Google ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ https://support.google.com.

4
3 ÐžÐŸÐ˜Ð¡ Ð’Ð˜ÐšÐžÐÐÐÐžÐ‡ Ð ÐžÐ‘ÐžÐ¢Ð˜
ÐÐ° Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÐ¾Ð²Ð¾Ð¼Ñƒ ÐµÑ‚Ð°Ð¿Ñ– ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð²Ð¸Ð·Ð½Ð°Ñ‡Ð°Ñ” ÑÐ²Ð¾ÑŽ Ð²ÐµÑ€ÑÑ–ÑŽ Ñ‚Ð° Ð´ÐµÐºÐ»Ð°Ñ€ÑƒÑ” Ð´Ð²Ñ– Ð´Ð¾Ð¿Ð¾Ð¼Ñ–Ð¶Ð½Ñ–
Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ—: print_help Ð´Ð»Ñ Ð²Ð¸Ð²ÐµÐ´ÐµÐ½Ð½Ñ Ð´Ð¾Ð²Ñ–Ð´ÐºÐ¾Ð²Ð¾Ñ— Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ— Ð¿Ñ€Ð¾ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ñ‚Ð°
print_version Ð´Ð»Ñ Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ Ð²ÐµÑ€ÑÑ–Ñ—. Ð¦Ðµ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ° Ð´Ð»Ñ ÑƒÑ‚Ð¸Ð»Ñ–Ñ‚
ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½Ð¾Ð³Ð¾ Ñ€ÑÐ´ÐºÐ°, Ñ‰Ð¾ Ð´Ð¾Ð·Ð²Ð¾Ð»ÑÑ” ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ÐµÐ²Ñ– ÑˆÐ²Ð¸Ð´ÐºÐ¾ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ñƒ
Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–ÑŽ Ð¿Ñ€Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ñƒ.
1 #!/bin/bash
2
3 VERSION="1.0.0"
4
5 print_help() {
6
echo "Usage: $(basename "$0") [--help | --version] | [[-q|-quiet] [academic_group] file_from_cist.csv]"
7
echo ""
8
echo "Options:"
9
echo " --help
Show this help message"
10
echo " --version
Show version information"
11
echo " -q, --quiet
Suppress output to standard output"
12
# ... (Ñ€ÐµÑˆÑ‚Ð° Ð´Ð¾Ð²Ñ–Ð´ÐºÐ¸)
13 }
14
15 print_version() {
16
echo "v$VERSION"
17 }

Ð”Ð°Ð»Ñ– ÑÐºÑ€Ð¸Ð¿Ñ‚ Ñ–Ð½Ñ–Ñ†Ñ–Ð°Ð»Ñ–Ð·ÑƒÑ” Ð·Ð¼Ñ–Ð½Ð½Ñ– Ñ‚Ð° Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð´Ð¾ Ñ€Ð¾Ð·Ð±Ð¾Ñ€Ñƒ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ–Ð², Ð¿ÐµÑ€ÐµÐ´Ð°Ð½Ð¸Ñ…
Ð¿Ñ–Ð´ Ñ‡Ð°Ñ Ð·Ð°Ð¿ÑƒÑÐºÑƒ. Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑŽÑ‡Ð¸ Ñ†Ð¸ÐºÐ» while, Ð²Ñ–Ð½ Ð¿Ð¾ÑÐ»Ñ–Ð´Ð¾Ð²Ð½Ð¾ Ð¾Ð±Ñ€Ð¾Ð±Ð»ÑÑ” ÐºÐ¾Ð¶ÐµÐ½
Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚. ÐšÐ¾Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ñ–Ñ case Ð´Ð¾Ð·Ð²Ð¾Ð»ÑÑ” Ñ€ÐµÐ°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ Ð½Ð° ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ– Ð¿Ñ€Ð°Ð¿Ð¾Ñ€Ð¸: â€“help Ñ‚Ð°
â€“version Ð²Ð¸ÐºÐ»Ð¸ÐºÐ°ÑŽÑ‚ÑŒ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð½Ñ– Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— Ñ‚Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÑƒÑŽÑ‚ÑŒ Ñ€Ð¾Ð±Ð¾Ñ‚Ñƒ; -q Ð°Ð±Ð¾ â€“quiet
Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÑŽÑ” Â«Ñ‚Ð¸Ñ…Ð¸Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼Â». Ð£ÑÑ– Ñ–Ð½ÑˆÑ– Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¸ Ð²Ð²Ð°Ð¶Ð°ÑŽÑ‚ÑŒÑÑ Ð¿Ð¾Ð·Ð¸Ñ†Ñ–Ð¹Ð½Ð¸Ð¼Ð¸: Ð¿ÐµÑ€ÑˆÐ¸Ð¹
Ð· Ð½Ð¸Ñ… Ð·Ð±ÐµÑ€Ñ–Ð³Ð°Ñ”Ñ‚ÑŒÑÑ ÑÐº Ð½Ð°Ð·Ð²Ð° Ð³Ñ€ÑƒÐ¿Ð¸ (group_input), Ð° Ð´Ñ€ÑƒÐ³Ð¸Ð¹ â€” ÑÐº ÑˆÐ»ÑÑ… Ð´Ð¾ CSV-Ñ„Ð°Ð¹Ð»Ñƒ
(csv_path). Ð¯ÐºÑ‰Ð¾ Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ–Ð² Ð·Ð°Ð±Ð°Ð³Ð°Ñ‚Ð¾, ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð²Ð¸Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÑƒ
Ñ‚Ð° Ð´Ð¾Ð²Ñ–Ð´ÐºÑƒ. ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° shift Ð¿Ñ–ÑÐ»Ñ ÐºÐ¾Ð¶Ð½Ð¾Ñ— Ñ–Ñ‚ÐµÑ€Ð°Ñ†Ñ–Ñ— Ð·ÑÑƒÐ²Ð°Ñ” ÑÐ¿Ð¸ÑÐ¾Ðº Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ–Ð², Ð´Ð¾Ð·Ð²Ð¾Ð»ÑÑŽÑ‡Ð¸
Ð¾Ð±Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ñ—Ñ… ÑƒÑÑ–.
1
2
3
4
5
6
7

quiet=false
csv_path=""
group_input=""
while [[ $# -gt 0 ]]; do
case "$1" in
--help)

5
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32

print_help
exit 0
;;
--version)
print_version
exit 0
;;
-q|--quiet)
quiet=true
shift
;;
*)
if [[ -z "$group_input" ]]; then
group_input="$1"
elif [[ -z "$csv_path" ]]; then
csv_path="$1"
else
echo "
Too many args."
print_help
exit 1
fi
shift
;;

â›”

esac
done

Ð£ Ð²Ð¸Ð¿Ð°Ð´ÐºÑƒ, ÑÐºÑ‰Ð¾ ÑˆÐ»ÑÑ… Ð´Ð¾ Ñ„Ð°Ð¹Ð»Ñƒ Ñ€Ð¾Ð·ÐºÐ»Ð°Ð´Ñƒ Ð½Ðµ Ð±ÑƒÐ² Ð½Ð°Ð´Ð°Ð½Ð¸Ð¹ ÑÐº Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚, ÑÐºÑ€Ð¸Ð¿Ñ‚
Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð² Ñ–Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼. Ð’Ñ–Ð½ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¾ ÑˆÑƒÐºÐ°Ñ” Ñƒ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ñ–Ð¹ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ñ–Ñ—
Ñ„Ð°Ð¹Ð»Ð¸, Ñ‰Ð¾ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°ÑŽÑ‚ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ TimeTable.csv, Ñ– Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ð²Ð±ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¾Ñ— ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸
select ÑÑ‚Ð²Ð¾Ñ€ÑŽÑ” Ð½ÑƒÐ¼ÐµÑ€Ð¾Ð²Ð°Ð½Ðµ Ð¼ÐµÐ½ÑŽ, Ð· ÑÐºÐ¾Ð³Ð¾ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ Ð¼Ð¾Ð¶Ðµ Ð·Ñ€ÑƒÑ‡Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ñ‚Ð¸ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¸Ð¹
Ñ„Ð°Ð¹Ð».
1
2
3
4
5
6
7
8
9
10

ðŸ”

if [[ -z "$csv_path" ]]; then
PS3="
Available files: "
select csv_path in TimeTable_*.csv; do
if [[ -n "$csv_path" ]]; then
break
else
echo "
Wrong choice, try again."
fi
done
fi

ðŸš«

ÐŸÑ–ÑÐ»Ñ Ð²Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ñ„Ð°Ð¹Ð»Ñƒ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð¿Ñ€Ð¸ÑÑ‚ÑƒÐ¿Ð°Ñ” Ð´Ð¾ Ð°Ð½Ð°Ð»Ñ–Ð·Ñƒ Ð¹Ð¾Ð³Ð¾ Ð²Ð¼Ñ–ÑÑ‚Ñƒ Ð´Ð»Ñ
Ñ–Ð´ÐµÐ½Ñ‚Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ñ— Ð²ÑÑ–Ñ… ÑƒÐ½Ñ–ÐºÐ°Ð»ÑŒÐ½Ð¸Ñ… Ð°ÐºÐ°Ð´ÐµÐ¼Ñ–Ñ‡Ð½Ð¸Ñ… Ð³Ñ€ÑƒÐ¿. Ð¦Ðµ Ñ€ÐµÐ°Ð»Ñ–Ð·Ð¾Ð²Ð°Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð¾Ñ‚ÑƒÐ¶Ð½Ð¸Ð¹
ÐºÐ¾Ð½Ð²ÐµÑ”Ñ€ ÐºÐ¾Ð¼Ð°Ð½Ð´, Ð´Ðµ ÐºÐ¾Ð¶Ð½Ð° Ð²Ð¸ÐºÐ¾Ð½ÑƒÑ” ÑÐ²Ð¾ÑŽ Ñ‡Ð°ÑÑ‚Ð¸Ð½Ñƒ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸: iconv Ð¿ÐµÑ€ÐµÐºÐ¾Ð´Ð¾Ð²ÑƒÑ” Ñ„Ð°Ð¹Ð»
Ð· windows-1251 Ð² utf-8; sed Ð½Ð¾Ñ€Ð¼Ð°Ð»Ñ–Ð·ÑƒÑ” ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¸ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ€ÑÐ´ÐºÐ° Ñ‚Ð° Ð²Ð¸Ð´Ð°Ð»ÑÑ” Ð¼Ð°Ñ€ÐºÐµÑ€
BOM (Byte Order Mark); Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ð¸Ð¹ sed Ð²Ð¸Ð´Ð°Ð»ÑÑ” Ð»Ð°Ð¿ÐºÐ¸ Ð´Ð»Ñ ÑÐ¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ñ Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ¸; awk

6
Ð· Ñ€Ð¾Ð·Ð´Ñ–Ð»ÑŒÐ½Ð¸ÐºÐ¾Ð¼-ÐºÐ¾Ð¼Ð¾ÑŽ Ð²Ð¸Ñ‚ÑÐ³ÑƒÑ” Ð· Ð¿ÐµÑ€ÑˆÐ¾Ñ— ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ Ð»Ð¸ÑˆÐµ Ð½Ð°Ð·Ð²Ñƒ Ð³Ñ€ÑƒÐ¿Ð¸; sort -u ÑÐ¾Ñ€Ñ‚ÑƒÑ”
Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¸Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ñ‚Ð° Ð²Ð¸Ð´Ð°Ð»ÑÑ” Ð´ÑƒÐ±Ð»Ñ–ÐºÐ°Ñ‚Ð¸.
1
2
3

available_groups=$(iconv -f windows-1251 -t utf-8 "$csv_path" | \
sed -e 's/\r\n/\n/g' -e 's/\r/\n/g' | sed 's/^\xEF\xBB\xBF//' |
\
sed 's/"//g' | awk -F',' 'NR > 1 { split($1, x, " - "); print
x[1] }' | sort -u)

ÐÐ½Ð°Ð»Ð¾Ð³Ñ–Ñ‡Ð½Ð¾ Ð´Ð¾ Ð²Ð¸Ð±Ð¾Ñ€Ñƒ Ñ„Ð°Ð¹Ð»Ñƒ, ÑÐºÑ‰Ð¾ Ð½Ð°Ð·Ð²Ð° Ð³Ñ€ÑƒÐ¿Ð¸ Ð½Ðµ Ð±ÑƒÐ»Ð° Ð²Ð²ÐµÐ´ÐµÐ½Ð°, ÑÐºÑ€Ð¸Ð¿Ñ‚
Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ” ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ select Ð´Ð»Ñ Ð½Ð°Ð´Ð°Ð½Ð½Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ÐµÐ²Ñ– ÑÐ¿Ð¸ÑÐºÑƒ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¸Ñ… Ð³Ñ€ÑƒÐ¿ Ð´Ð»Ñ
Ñ–Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð²Ð¸Ð±Ð¾Ñ€Ñƒ.
1
2
3
4
5
6
7
8
9
10
11
12

ðŸ‘¤

if [[ -z "$group_input" ]]; then
PS3="
Select group:"
select selected_group in $available_groups; do
if [[ -n "$selected_group" ]]; then
break
else
echo "
Wrong choice, try again."
fi
done
else
selected_group="$group_input"
fi

ðŸš«

ÐŸÑ–ÑÐ»Ñ Ð·Ð±Ð¾Ñ€Ñƒ Ð²ÑÑ–Ñ”Ñ— Ð½ÐµÐ¾Ð±Ñ…Ñ–Ð´Ð½Ð¾Ñ— Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ— Ð¿Ð¾Ñ‡Ð¸Ð½Ð°Ñ”Ñ‚ÑŒÑÑ ÐºÐ»ÑŽÑ‡Ð¾Ð²Ð¸Ð¹ ÐµÑ‚Ð°Ð¿ Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ¸.
Ð¡Ñ‚Ð²Ð¾Ñ€ÑŽÑ”Ñ‚ÑŒÑÑ Ð½Ð¾Ð²Ð¸Ð¹ Ñ„Ð°Ð¹Ð» Ð´Ð»Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñƒ Ñ– Ð² Ð½ÑŒÐ¾Ð³Ð¾ Ð·Ð°Ð¿Ð¸ÑÑƒÑ”Ñ‚ÑŒÑÑ Ñ€ÑÐ´Ð¾Ðº Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°, Ñ‰Ð¾
Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ” Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñƒ Google ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ.
1
2

result_file="Google_${csv_path}"
echo "\"Subject\",\"Start Date\",\"Start Time\",\"End Date\",\"End
Time\",\"Description\"" > "$result_file"

ÐžÑÐ½Ð¾Ð²Ð½Ð° Ð»Ð¾Ð³Ñ–ÐºÐ° Ñ‚Ñ€Ð°Ð½ÑÑ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ— Ð´Ð°Ð½Ð¸Ñ… Ñ€ÐµÐ°Ð»Ñ–Ð·Ð¾Ð²Ð°Ð½Ð° Ñ‡ÐµÑ€ÐµÐ· ÑÐºÐ»Ð°Ð´Ð½Ð¸Ð¹ ÐºÐ¾Ð½Ð²ÐµÑ”Ñ€.
ÐŸÐµÑ€ÑˆÐ¸Ð¹

awk

ÑÐºÑ€Ð¸Ð¿Ñ‚

Ñ„Ñ–Ð»ÑŒÑ‚Ñ€ÑƒÑ”

Ñ€ÑÐ´ÐºÐ¸

Ð·Ð°

Ð¾Ð±Ñ€Ð°Ð½Ð¾ÑŽ

Ð³Ñ€ÑƒÐ¿Ð¾ÑŽ,

Ð³ÐµÐ½ÐµÑ€ÑƒÑ”

Ð·Ð°

Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— generate_key ÑÐ¿ÐµÑ†Ñ–Ð°Ð»ÑŒÐ½Ð¸Ð¹ ÐºÐ»ÑŽÑ‡ Ð´Ð»Ñ ÑÐ¾Ñ€Ñ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ñƒ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ–
Ð Ð Ð Ð ÐœÐœÐ”Ð”Ð“Ð“Ð¥Ð¥ Ñ‚Ð° Ð²Ð¸Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ñ– Ð¿Ð¾Ð»Ñ, Ñ€Ð¾Ð·Ð´Ñ–Ð»ÐµÐ½Ñ– ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ |. ÐŸÐ¾Ñ‚Ñ–Ð¼ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°
sort Ð²Ð¿Ð¾Ñ€ÑÐ´ÐºÐ¾Ð²ÑƒÑ” Ñ†Ñ– Ñ€ÑÐ´ÐºÐ¸ Ð² Ñ…Ñ€Ð¾Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ‡Ð½Ð¾Ð¼Ñƒ Ð¿Ð¾Ñ€ÑÐ´ÐºÑƒ. Ð¤Ñ–Ð½Ð°Ð»ÑŒÐ½Ð¸Ð¹ awk ÑÐºÑ€Ð¸Ð¿Ñ‚
Ð²Ð¸ÐºÐ¾Ð½ÑƒÑ” Ð½Ð°Ð¹ÑÐºÐ»Ð°Ð´Ð½Ñ–ÑˆÑƒ Ñ€Ð¾Ð±Ð¾Ñ‚Ñƒ: Ð²Ñ–Ð½ Ñ‡Ð¸Ñ‚Ð°Ñ” Ð²Ñ–Ð´ÑÐ¾Ñ€Ñ‚Ð¾Ð²Ð°Ð½Ñ– Ð´Ð°Ð½Ñ–, Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ÑƒÑ” Ð´Ð°Ñ‚Ð¸ Ð¹ Ñ‡Ð°Ñ Ð·Ð°
Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ð¹ fmt_date Ñ‚Ð° fmt_time Ð´Ð¾ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾Ð³Ð¾ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ñƒ (ÐœÐœ/Ð”Ð”/Ð Ð Ð Ð 
Ñ‚Ð° 12-Ð³Ð¾Ð´Ð¸Ð½Ð½Ð¸Ð¹ AM/PM). ÐÐ°Ð¹Ð±Ñ–Ð»ÑŒÑˆ Ð²Ð¸Ñ‚Ð¾Ð½Ñ‡ÐµÐ½Ð° Ñ‡Ð°ÑÑ‚Ð¸Ð½Ð° â€” Ñ†Ðµ Ð½ÑƒÐ¼ÐµÑ€Ð°Ñ†Ñ–Ñ Ð¾Ð´Ð½Ð°ÐºÐ¾Ð²Ð¸Ñ…

7
Ñ‚Ð¸Ð¿Ñ–Ð² Ð·Ð°Ð½ÑÑ‚ÑŒ Ð²Ð¿Ñ€Ð¾Ð´Ð¾Ð²Ð¶ Ð´Ð½Ñ. Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑÑ‚Ð²Ð¾Ñ€ÑŽÑ” ÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ‚Ð½Ð¸Ð¹ ÐºÐ»ÑŽÑ‡ Â«Ñ‚Ð¸Ð¿_Ð·Ð°Ð½ÑÑ‚Ñ‚Ñ-Ð´Ð°Ñ‚Ð°Â»
Ñ– Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ð¼Ð°ÑÐ¸Ð²Ñ–Ð² seen Ñ‚Ð° counter Ñ€Ð°Ñ…ÑƒÑ”, ÐºÐ¾Ñ‚Ñ€Ðµ Ñ†Ðµ Ð·Ð° Ñ€Ð°Ñ…ÑƒÐ½ÐºÐ¾Ð¼ Ð·Ð°Ð½ÑÑ‚Ñ‚Ñ Ð´Ð°Ð½Ð¾Ð³Ð¾
Ñ‚Ð¸Ð¿Ñƒ Ð½Ð° Ñ†ÑŽ Ð´Ð°Ñ‚Ñƒ, Ð´Ð¾Ð´Ð°ÑŽÑ‡Ð¸ Ð´Ð¾ Ð½Ð°Ð·Ð²Ð¸ Ð¿Ð¾Ð´Ñ–Ñ— Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð½Ð¸Ð¹ Ð½Ð¾Ð¼ÐµÑ€ (Ð½Ð°Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´, Â«Ð›ÐµÐºÑ†Ñ–Ñ;
â„–2Â»). Ð“Ð¾Ñ‚Ð¾Ð²Ð¸Ð¹ Ð²Ñ–Ð´Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº Ð´Ð¾Ð´Ð°Ñ”Ñ‚ÑŒÑÑ Ð´Ð¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚ÑƒÑŽÑ‡Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ñƒ.
1
2
3
4
5
6
7
8

iconv -f windows-1251 -t utf-8 "$csv_path" | \
sed -e 's/\r\n/\n/g' -e 's/\r/\n/g' -e 's/^\xEF\xBB\xBF//' | \
awk -v grp="$selected_group" '
# ... (ÐŸÐµÑ€ÑˆÐ¸Ð¹ awk ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ñ„Ñ–Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ñ–Ñ— Ñ‚Ð° ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ ÐºÐ»ÑŽÑ‡Ð°
ÑÐ¾Ñ€Ñ‚ÑƒÐ²Ð°Ð½Ð½Ñ) ...
' | sort -t'|' -k1,1 | \
awk -F'|' '
# ... (Ð”Ñ€ÑƒÐ³Ð¸Ð¹ awk ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ñ„Ñ–Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ñ‚Ð°
Ð½ÑƒÐ¼ÐµÑ€Ð°Ñ†Ñ–Ñ—) ...
}' >> "$result_file"

ÐÐ°Ð¿Ñ€Ð¸ÐºÑ–Ð½Ñ†Ñ–, ÑÐºÑ‰Ð¾ Ð½Ðµ Ð±ÑƒÐ»Ð¾ Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ Ð¿Ñ€Ð°Ð¿Ð¾Ñ€ Ñ‚Ð¸Ñ…Ð¾Ð³Ð¾ Ñ€ÐµÐ¶Ð¸Ð¼Ñƒ, ÑÐºÑ€Ð¸Ð¿Ñ‚
Ð²Ð¸Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ñ„Ñ–Ð½Ð°Ð»ÑŒÐ½Ðµ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾ ÑƒÑÐ¿Ñ–ÑˆÐ½Ðµ Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð½Ñ Ñ‚Ð° Ñ–Ð¼â€™Ñ ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ñƒ.
1
2
3

âœ…

if ! $quiet; then
echo "
Saved to: $result_file"
fi

8
4 Ð’Ð˜Ð¡ÐÐžÐ’ÐšÐ˜
ÐŸÑ–Ð´ Ñ‡Ð°Ñ Ñ†Ñ–Ñ”Ñ— Ð»Ð°Ð±Ð¾Ñ€Ð°Ñ‚Ð¾Ñ€Ð½Ð¾Ñ— Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ Ñ Ð¾Ð·Ð½Ð°Ð¹Ð¾Ð¼Ð¸Ð²ÑÑ Ð· Ð¾ÑÐ½Ð¾Ð²Ð½Ð¸Ð¼Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ð¼Ð¸ Bash
Ð´Ð»Ñ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ Ð· Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸ Ñ‚Ð° Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¸Ð¼Ð¸ Ð´Ð°Ð½Ð¸Ð¼Ð¸ Ñ‚Ð° Ð½Ð°Ð²Ñ‡Ð¸Ð²ÑÑ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸
select, ls, awk, sort, uniq, tee, cat, sed, iconv Ñ‚Ð¾Ñ‰Ð¾

9
Ð”ÐžÐ”ÐÐ¢ÐžÐš Ð
Ð’Ñ–Ð´ÐµÐ¾Ð·Ð°Ð¿Ð¸Ñ
Ð’Ñ–Ð´ÐµÐ¾Ð·Ð°Ð¿Ð¸Ñ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ— Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ–Ð² https://youtu.be/nFiuEc0ighk
Ð¥Ñ€Ð¾Ð½Ð¾Ð»Ð¾Ð³Ñ–Ñ‡Ð½Ð¸Ð¹ Ð¾Ð¿Ð¸Ñ Ð²Ñ–Ð´ÐµÐ¾Ð·Ð°Ð¿Ð¸ÑÑƒ:
00:00 â€” ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ
00:50 â€” Ð Ð¾Ð·Ð±Ñ–Ñ€ ÐºÐ¾Ð´Ñƒ
09:05 â€” Ð”ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°

10
Ð”ÐžÐ”ÐÐ¢ÐžÐš Ð‘
ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð½Ð¸Ð¹ ÐºÐ¾Ð´
Ð‘.1 Ð—Ð¼Ñ–ÑÑ‚ Ñ„Ð°Ð¹Ð»Ñƒ Â«index.phpÂ»
Github Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ñ–Ð¹
1 #!/bin/bash
2
3 VERSION="1.0.0"
4
5 print_help() {
6
echo "Usage: $(basename "$0") [--help | --version] | [[-q|-quiet] [academic_group] file_from_cist.csv]"
7
echo ""
8
echo "Options:"
9
echo " --help
Show this help message"
10
echo " --version
Show version information"
11
echo " -q, --quiet
Suppress output to standard output"
12
echo ""
13
echo "Parameters:"
14
echo " academic_group Academic group name (optional)"
15
echo " file_from_cist Input CSV file from CIST (optional)"
16
echo ""
17
echo "If academic group or input file is not specified, the
script will prompt for selection"
18 }
19
20 print_version() {
21
echo "v$VERSION"
22 }
23
24 quiet=false
25 csv_path=""
26 group_input=""
27
28 while [[ $# -gt 0 ]]; do
29
case "$1" in
30
--help)
31
print_help
32
exit 0
33
;;
34
--version)
35
print_version
36
exit 0
37
;;
38
-q|--quiet)
39
quiet=true
40
shift
41
;;
42
*)
43
if [[ -z "$group_input" ]]; then
44
group_input="$1"

11
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69

elif [[ -z "$csv_path" ]]; then
csv_path="$1"
else
echo "
Too many args."
print_help
exit 1
fi
shift
;;

â›”

esac
done

ðŸ”

if [[ -z "$csv_path" ]]; then
PS3="
Available files: "
select csv_path in TimeTable_*.csv; do
if [[ -n "$csv_path" ]]; then
break
else
echo "
Wrong choice, try again."
fi
done
fi

ðŸš«

available_groups=$(iconv -f windows-1251 -t utf-8 "$csv_path" | \
sed -e 's/\r\n/\n/g' -e 's/\r/\n/g' | sed 's/^\xEF\xBB\xBF//'
| \
70
sed 's/"//g' | awk -F',' 'NR > 1 { split($1, x, " - "); print
x[1] }' | sort -u)
71
72 if [[ -z "$available_groups" ]]; then
73
echo "
No academic groups found in the file."
74
exit 1
75 fi
76
77 if [[ -z "$group_input" ]]; then
78
PS3="
Select group:"
79
select selected_group in $available_groups; do
80
if [[ -n "$selected_group" ]]; then
81
break
82
else
83
echo "
Wrong choice, try again."
84
fi
85
done
86 else
87
selected_group="$group_input"
88 fi
89
90 result_file="Google_${csv_path}"
91 echo "\"Subject\",\"Start Date\",\"Start Time\",\"End Date\",
\"End Time\",\"Description\"" > "$result_file"
92
93 iconv -f windows-1251 -t utf-8 "$csv_path" | \
94
sed -e 's/\r\n/\n/g' -e 's/\r/\n/g' -e 's/^\xEF\xBB\xBF//' |
\
95
awk -v grp="$selected_group" '

âŒ

ðŸ‘¤

ðŸš«

12
96
97
98
99
100
101
102
103

BEGIN {
FS="\",\""; OFS="|"
}

function generate_key(date, time, d, m, y, h, min) {
split(date, dp, ".")
split(time, tp, ":")
return sprintf("%04d%02d%02d%02d%02d", dp[3], dp[2],
dp[1], tp[1], tp[2])
104
}
105
106
NR > 1 {
107
gsub(/^"/, "", $1)
108
gsub(/"$/, "", $(NF))
109
split($1, parts, " - ")
110
g_name = parts[1]
111
l_type = parts[2]
112
113
if (g_name == grp) {
114
sort_key = generate_key($2, $3)
115
print sort_key, l_type, $2, $3, $4, $5, $12
116
}
117
}' | sort -t'|' -k1,1 | \
118
awk -F'|' '
119
BEGIN { OFS="," }
120
121
function fmt_time(t, h, m, res) {
122
split(t, tt, ":"); h = tt[1]; m = tt[2]
123
res = (h >= 12) ? "PM" : "AM"
124
if (h == 0) h = 12; else if (h > 12) h -= 12
125
return sprintf("%02d:%02d %s", h, m, res)
126
}
127
128
function fmt_date(date_str, parts) {
129
split(date_str, parts, ".")
130
return sprintf("%02d/%02d/%04d", parts[2], parts[1],
parts[3])
131
}
132
133
{
134
type = $2
135
raw_date = $3
136
split(raw_date, dt, ".")
137
identifier = sprintf("%04d%02d%02d", dt[3], dt[2], dt[1])
138
composite_key = type "-" identifier
139
140
if (!(composite_key in seen)) {
141
counter[type]++
142
seen[composite_key] = counter[type]
143
}
144
145
entry_num = seen[composite_key]
146
print "\"" type "; â„–" entry_num "\"", \
147
"\"" fmt_date($3) "\"", \
148
"\"" fmt_time($4) "\"", \
149
"\"" fmt_date($5) "\"", \

13
150
"\"" fmt_time($6) "\"", \
151
"\"" $7 "\""
152
}' >> "$result_file"
153
154 if ! $quiet; then
155
echo "
Saved to: $result_file"
156 fi

âœ…
